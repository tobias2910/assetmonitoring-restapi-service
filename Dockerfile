FROM node:12.18-alpine
ENV NODE_ENV=prod
ENV PORT=3100
ENV JWT_SECRET=4hJ38I2zzL8bf_b17qCcPTEwL5d4pjxGV6UH89Mo_AmHGc5ulc1VanFCBzPWCnSFIpcLR
ENV ACCESS_TOKEN_MINUTES=30
ENV REFRESH_TOKEN_DAYS=1
ENV MONGODB_URL=167.172.185.146:27017
ENV MONGODB_USERNAME=tobiasc
ENV MONGODB_PASSWORD=doskova
ENV MONGODB_DATABASE=assetIdentifier
ENV MONGODB_ASSET_COLLECTION=assetInformation
ENV MONGODB_ANALYTIC_COLLECTION=assetAnalytics
ENV REDIS_HOST=159.65.124.154
ENV REDIS_PORT=6379
ENV RATE_LIMITER=100
WORKDIR /usr/app/
COPY "package.json" ./
RUN npm install
COPY . .
EXPOSE 3100
CMD ["node", "dist/index.js"]